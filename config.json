{"icon":"other","splash":"other","splashdata":{"img":"clatterbridgelogo.png","bg":"#e5e7da"},"settings":{"router":{"mode":"intelligent","animation":"off"},"theme":"default","push-notifications":{"android":{"enabled":false},"ios":{"enabled":false}},"provisioning":{"enabled":false,"manifest":"","poll":2,"manual":false,"wifionly":true},"crashReporting":{"enabled":false,"androidEnabled":false,"iosEnabled":false,"splunkAndroidApiKey":"","splunkIosApiKey":"","splunkExtraData":""},"loading-message":true},"language":{"defaultLocale":"en_GB","initialLanguage":"","useDeviceLocale":true},"metadata":{},"name":"Conix","version":"0.0.1","schemaVersion":5,"pages":[{"start":true,"name":"MyLists","config":[],"content":[{"name":"areaHeader","type":"navigation","item-type":"title-bar","_auto_id_":"36c7c38a-0e2b-4930-a3e9-1f748861a653","content":[{"name":"htmlAppTitle","type":"content","item-type":"html","_auto_id_":"176956fa-e977-4af8-8f17-87feef5b5515","content":"My Lists<p class=\"updated\"><span class=\"last-updated\">Last updated: </span> {{'$store.lastSyncDisplay' | store}}</p>","expressions":{}},{"name":"btnMenu","type":"control","item-type":"button","_auto_id_":"5bec825b-a2bf-4826-b63e-c5b3be184272","content":"","theme":"default","expressions":{},"classes":"header-button","actions":[{"event":"click","type":"call-function","data":{"name":"fnToggleContextMenu"},"_auto_id_":"9cb065c9-7ae7-48b8-ae1f-9e532f140b9e"}],"right-icon":"fa-navicon"}],"extends":{"type":"area","item-type":"row"},"expressions":{}},{"name":"areaOptions","type":"area","item-type":"static","_auto_id_":"998b4a67-707b-4bed-b2c9-0cf4ac0be130","content":[{"name":"ctxMenu","type":"component","item-type":"web-component-es2015","template":"<ct-context-menu></ct-context-menu>","content":[{"name":"btnUserProfile","type":"control","item-type":"button","_auto_id_":"ce2cdab5-fbac-40fa-bb5d-87d24ab49712","content":"My Profile","theme":"default","left-icon":"fa-check-square-o","actions":[{"event":"click","type":"go-to-page","data":"UserProfile","_auto_id_":"9da961a7-e1b6-4fc3-afe5-8757e0ecf28c"}],"expressions":{}},{"name":"btnSearch","type":"control","item-type":"button","_auto_id_":"7da166b4-f9ab-4d5d-b255-561ef595ac2d","content":"Patient search...","theme":"default","expressions":{},"left-icon":"fa-search"},{"name":"btnLock","type":"control","item-type":"button","_auto_id_":"58e408ad-62e0-4afe-96ee-2ce89893896a","content":"Lock","theme":"default","left-icon":"fa-lock","expressions":{},"actions":[{"event":"click","type":"call-function","data":{"name":"fnLockApplication"},"_auto_id_":"743f2f37-f6ff-4f88-be80-20589abf1c4e"}]}],"component":"CTContextMenu","_auto_id_":"4d863e94-7a00-47e1-a591-b64a5a0cb688","attributes":{},"expressions":{},"actions":[]}],"expressions":{}},{"name":"areaListHeader","type":"area","item-type":"static","_auto_id_":"0c7063a3-096e-43fd-98ef-15656be5ee18","content":[{"name":"htmlFilterOptions","type":"content","item-type":"html","_auto_id_":"e88983ff-90f1-4422-bf30-ba2d0f8d7bde","content":"<div class=\"filter-options\">\n  <div><span class=\"fa icon-mypatients\"></span> All patients</div>\n  <div class=\"selected\"><span class=\"fa icon-onreview\"></span> On Review</div>\n  <div><span class=\"fa icon-prescribenext\"></span> To Prescribe Next</div>\n  <div><span class=\"fa icon-inpatients\"></span> Inpatients</div>\n  <div><span class=\"fa icon-alerts\"></span> Alerts</div>\n</div>","expressions":{}}],"expressions":{}},{"name":"areaPatientList","type":"area","item-type":"scrollable","_auto_id_":"7a9255f1-f275-4b75-a8c0-7bd7392df85d","content":[{"name":"htmlColumnHeadings","type":"content","item-type":"html","_auto_id_":"42bf8f38-7394-4a8b-8f37-04208f35db48","content":"<p class=\"patient-name heading\">Name</p>\n<p class=\"date-birth heading\">Born</p>\n<p class=\"grid-field heading\">NHS #</p>\n<p class=\"grid-field heading\">Hospital #</p>\n","expressions":{}},{"name":"listPatients","type":"content","item-type":"list","_auto_id_":"7babb594-5029-4782-b582-8391b3d3e01f","title":"List","edit":false,"search":false,"row":"<div class=\"patient-row\" data-patient-id=\"{{$data.$item.Id}}\">\n  <p class=\"patient-name\"><b>{{$data.$item.LastName}}</b>, {{$data.$item.FirstName}}</p>\n  <p class=\"date-birth\">{{$data.$item.DOB}}</p>\n  <p class=\"grid-field\">{{$data.$item.NHS}}</p>\n  <p class=\"grid-field\">{{$data.$item.HospitalNumber}}</p>\n</div>\n","classes":"","content":[],"model":"$store.azureAppServices.azurePatientService.getpatients.patientList","theme":"","actions":[],"expressions":{}}],"expressions":{}}],"settings":{"auth":false}},{"name":"UserProfile","config":[],"content":[{"name":"areaHeader","type":"navigation","item-type":"title-bar","_auto_id_":"831ae413-2f3a-421e-a40f-1a4228f44808","content":[{"name":"htmlAppTitle","type":"content","item-type":"html","_auto_id_":"a846547b-85c6-4727-bcef-8ee90eb999aa","content":"My Profile<p class=\"updated\"><span class=\"last-updated\">Last updated: </span> {{'$store.lastSyncDisplay' | store}}</p>","expressions":{}},{"name":"btnSave","type":"control","item-type":"button","_auto_id_":"d56bc5a7-8a8c-4326-9c13-53a7503f4284","content":"","theme":"default","expressions":{},"classes":"header-button","actions":[{"event":"click","type":"call-function","data":{"name":"fnSpinnerStart","params":{"msg":"Retrieving patient list..."}},"_auto_id_":"d7dac410-23af-422c-9b43-5cd2c246b90f"},{"event":"click","type":"call-azure-app-service","data":{"name":"azurePatientService","operation":"getpatients","params":{"consultantId":"1","name":"Bob","age":"27"}},"_auto_id_":"6b14ff68-c4a5-48df-9a83-772069cea40e","actions":[{"event":"success","type":"call-function","data":{"name":"fnSpinnerStop"},"_auto_id_":"4adec82b-f29b-4095-87ed-4e92db97e57a"},{"event":"fail","type":"call-function","data":{"name":"fnSpinnerStop"},"_auto_id_":"60d44dd4-26b4-4153-87f5-34c198cc47aa"},{"event":"fail","type":"show-notification","data":{"options":{"schedule":false,"dynamic":true},"name":"errorAPICall"},"_auto_id_":"6a173471-faee-4cc3-8664-37e5da05e271"},{"event":"fail","type":"go-back","data":{},"_auto_id_":"b4dbfdae-2998-425b-897c-dec6d24800b6"},{"event":"success","type":"go-back","data":{},"_auto_id_":"b3ca650d-f417-4ffc-b975-b265ba55e90f"}]}],"right-icon":"fa-check-circle"}],"extends":{"type":"area","item-type":"row"},"expressions":{}},{"name":"areaOptions","type":"area","item-type":"static","_auto_id_":"1f66d815-18b4-4cef-82f1-3ea2d11c6cbe","content":[{"name":"ctps_loadpanel_1","type":"component","item-type":"web-component-es2015","template":"<ctps-loadpanel></ctps-loadpanel>","content":[],"component":"ctps_loadpanel","_auto_id_":"6fab04cd-6754-44de-aafd-be4f893ea78b"}],"expressions":{}}],"start":false},{"name":"Lock","config":[],"content":[{"name":"areaHeader","type":"navigation","item-type":"title-bar","_auto_id_":"542fee3d-d06e-44f5-a388-aceaa75c0bfe","content":[{"name":"htmlAppTitle","type":"content","item-type":"html","_auto_id_":"da88e221-08e7-40e2-8c85-1a949a8361e5","content":"Application locked","expressions":{}},{"name":"btnLogout","type":"control","item-type":"button","_auto_id_":"a7e9acbf-1328-4512-a3c5-4168300bc2e7","content":"","theme":"default","expressions":{},"classes":"header-button","actions":[{"event":"click","type":"call-function","data":{"name":"fnLogout","params":{"cleardata":"false"}},"_auto_id_":"c7dc95f0-2b9b-4f45-ac8a-682e2c6ef2ab"}],"right-icon":"fa-sign-out"}],"extends":{"type":"area","item-type":"row"},"expressions":{}},{"name":"areaPin","type":"area","item-type":"static","_auto_id_":"aef00027-5035-45fe-a70d-b878fe99ad52","content":[{"name":"htmlPinEntry","type":"content","item-type":"html","_auto_id_":"6705c266-8584-4f60-9899-13e0a7aad336","content":"<p>You have been locked out of the application after a period of inactivity. This is in accordance with the Trust Information Governance Policy.<br/>Please enter your PIN to continue using the application.</p>\n\n<p>Lock status: {{'$store.variables.lockStatus' | store}}</p>\n\n<div class=\"pin-entry\">\n  <div class=\"pin-box\">\n    <input class=\"pin-input\" placeholder=\" PIN \" pattern=\"[0-9]*\" inputmode=\"numeric\" type=\"password\" maxlength=\"5\" onkeyup=\"cti.fnValidatePin(this);\" onfocus=\"cti.fnClearControl(this);\" />\n  </div>\n</div>\n\n<p>If you cannot recall your PIN, please use the log out option above. You can then log back in and reset your PIN via the 'My Profile' option from the menu.</p>\n\n","expressions":{}}],"expressions":{}}],"start":false},{"name":"Login","start":false,"config":[],"content":[{"name":"areaHeader","type":"navigation","item-type":"title-bar","_auto_id_":"cd719efb-b5ad-489e-9f64-a2f16c0dca72","content":[],"extends":{"type":"area","item-type":"row"},"expressions":{}},{"name":"areaLogin","type":"area","item-type":"static","_auto_id_":"af339629-b1b0-4de2-b2ea-3dd6e21709b4","content":[{"name":"htmlLoginControls","type":"content","item-type":"html","_auto_id_":"b819d036-44a6-4e32-9ada-994220d79214","content":"<div class=\"login-area\" tabindex=\"6\">\n  <p>Use of this software application is available for authorised users only. Access to and use of the application and data must be conducted in accordance with Trust Information Governance Policy.</p>\n  <p>All activities within the application are subject to audit.</p>\n\t<h2>Please login</h2>\n  \t<input type=\"text\" tabindex=\"7\" class=\"form-control\" id=\"txtUsername\" placeholder=\"your username\" required=\"\" autofocus=\"\" />\n  \t<input type=\"password\" tabindex=\"8\" class=\"form-control\" id=\"txtPassword\" placeholder=\"your password\" required=\"\"/>  \n</div>","expressions":{},"classes":"centered"},{"name":"btnLogin","type":"control","item-type":"button","_auto_id_":"2f516d31-ab76-4173-aa19-998fa52a29f5","content":"Login","theme":"default","left-icon":"fa-unlock","expressions":{},"actions":[{"event":"click","type":"call-actionflow","data":{"name":"Login"},"_auto_id_":"537fa4be-e5fc-478f-b47d-c2e6268baeeb"}]},{"name":"LoadPanel","type":"component","item-type":"web-component-es2015","template":"<ctps-loadpanel></ctps-loadpanel>","content":[],"component":"ctps_loadpanel","_auto_id_":"c909352b-6898-4457-bb04-28f35e4e12de","attributes":{},"expressions":{},"actions":[]}],"expressions":{}}]}],"actionflows":[{"content":[{"event":"click","type":"call-function","data":{"name":"fnSpinnerStart","params":{"msg":"Retrieving the latest data for your patients, please wait a few moments..."}},"_auto_id_":"f9011d1a-c45b-4fa5-a7cc-cf0b014c46bb"},{"event":"click","type":"call-azure-app-service","data":{"name":"azurePatientService","operation":"getpatients","params":{"consultantId":"{{$store.currentUserId}}"}},"_auto_id_":"a40e9b75-26c3-4832-8c8c-fdfe890eb9d6","actions":[{"event":"fail","type":"call-function","data":{"name":"fnSpinnerStop"},"_auto_id_":"6a7e0776-9f70-404c-a2a1-02c14f04b212"},{"event":"fail","type":"show-notification","data":{"options":{"schedule":false,"dynamic":true},"name":"errorAPICall","title":"Synchronisation failed","text":"A problem occured when retrieving patient data from the server. The patient data on your device may be incomplete or not up to date."},"_auto_id_":"cb8164ff-5e03-4b27-a37d-0f1edd588ae2"},{"event":"success","type":"inline-function","data":{"sync":true,"code":"cti.fnSpinnerStop();\ncti.store.lastSyncDisplay = moment().format('hh:mm on MM/DD');\nthis.$success();"},"_auto_id_":"57cd534d-56b3-4761-a903-d4c610a3b928"}]}],"name":"ReplicatePartial"},{"content":[{"event":"click","type":"inline-function","data":{"sync":true,"code":"if (cti.store.variables === undefined) {\n\tcti.store.variables = {}; \n}\n\nvar usernameControl = document.getElementById('txtUsername');\nif (usernameControl === undefined || usernameControl.value === undefined || usernameControl.value == '') {\n\tcti.utils.callAction('show-notification', { 'name': 'FormInvalid' });\n  \tthis.$fail();\n\treturn false;\n}\n\ncti.store.variables.loginUser = usernameControl.value;\ndocument.getElementById('txtUsername').value = \"\";\ndocument.getElementById('txtPassword').value = \"\";\n\ncti.fnSpinnerStart('Checking your credentials, one moment please...');\nthis.$success();"},"_auto_id_":"626392c4-a257-438f-a14e-0bfba7bf0b5e","actions":[{"event":"success","type":"call-azure-app-service","data":{"name":"azurePatientService","operation":"getconfig","params":{"username":"{{$store.variables.loginUser}}"}},"_auto_id_":"64318611-4b3b-4517-9454-ee6f69a75ab8","actions":[{"event":"fail","type":"call-function","data":{"name":"fnSpinnerStop"},"_auto_id_":"7da72fcf-6ddf-4b50-b715-ef411f475227"},{"event":"fail","type":"show-notification","data":{"options":{"schedule":false,"dynamic":true},"name":"loginFailed","text":"We were unable to validate your credentials with the server."},"_auto_id_":"85d5ff8d-1b46-42b3-8670-16969ecaaa37"},{"event":"success","type":"call-function","data":{"name":"fnSpinnerStop"},"_auto_id_":"bcb9d6fa-30b2-431c-b868-3f18661671d5"},{"type":"if","data":{},"_auto_id_":"a50340a7-b5ed-4e26-8657-6027a944058d","operations":[{"type":"value","content":"{{$store.azureAppServices.azurePatientService.getconfig.Authorised}}","$selected":false},{"type":"operator","content":"==","$selected":false},{"type":"value","content":"1","$selected":false}]},{"event":"success","type":"inline-function","data":{"sync":true,"code":"// Set the config we'll use for this session of the app based on wat the server told us\ncti.store.config = cti.fnCloneObject(cti.store.azureAppServices.azurePatientService.getconfig);\ndelete cti.store.azureAppServices.azurePatientService.getconfig;\n\nvar userId = cti.store.config.ConsultantId;\ncti.store.currentUserId = userId;\nif (cti.store.configProfiles === undefined) {\n\tcti.store.configProfiles = {};\n}\n\n// Store the profile info for this user in case we need it in offline mode\ncti.store.configProfiles[userId] = cti.store.config;\nthis.$success();"},"_auto_id_":"8382f26e-28a9-4feb-be4d-30c4706c3ab5"},{"event":"success","type":"call-actionflow","data":{"name":"ReplicatePartial"},"_auto_id_":"81b35639-7d5f-42ed-8b2c-718851f6393a"},{"event":"success","type":"go-to-page","data":"MyLists","_auto_id_":"73286e2f-26d0-4b09-a394-a4f0d61d3897"},{"type":"otherwise","data":{},"_auto_id_":"bd0c8bb0-30ae-4d8f-8a50-fa013dda5be1"},{"event":"success","type":"show-notification","data":{"options":{"schedule":false,"dynamic":true},"name":"loginFailed"},"_auto_id_":"3d364027-9fd8-4350-8474-4b68cc4354d4"}]}]}],"name":"Login"}],"dataflows":[],"config":[{"name":"cssMain","type":"style","item-type":"theme","_auto_id_":"fa77e553-e7aa-4b4f-a3d7-0fa53fb853a0","content":"[name=\"pageForm\"] {\n    background-color: #E5E7DA; \n}\n\n.navbar-default {\n    background-color: #E5E7DA !important; \n    background: url('user-assets/conixsmall.png') no-repeat;\n    max-height: 80px!important;\n    background-size: contain;\n    flex: inherit;\n}\n.navbar-default md-content[item-type=\"html\"] {\n\twidth:100%;\n\ttext-indent:60px;\n\tfont-size:16pt;\n\tmargin-top:8pt;\n\tcolor: #86bd4d;  \n}\n\n.header-button {\n\tcolor:#1f314c !important;\n    background-color: #E5E7DA !important;\n\tmargin-right:4px;\n}\n.header-button .fa {\n    font-size: 32px !important;\n}\n\np.updated {\n\twidth:100%;\n\ttext-align:left;\n\tcolor:#BBB;\n\tfont-size:8pt;\n}\np.updated:before{\n    font-family: FontAwesome;\n    content: \"\\f0e2\";\n    margin-right: 2px\t\n}\n\nsection.static-item {\n    flex:none;\n}\nsection[item-type=\"static\"],\nsection[item-type=\"scrollable\"] {\n    border: none !important;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n    padding: 0 20px !important;\n  \tbackground-color: transparent;\n}\nsection[item-type=\"scrollable\"] {\n    overflow-y: auto;\n}\nsection[item-type=\"static\"] ul,\nsection[item-type=\"scrollable\"] ul {\n    list-style: none !important;\n    margin: 0 !important;\n    padding: 0 !important\n}\n.md-list .scrollable {\n    overflow-y: hidden;\n\tmargin:0;\n}\n.md-list .top {\n    margin-top: 0;\n    margin-bottom: 10px;\n}\n.content-block {\n    margin-bottom: 0;\n}\n\n\n@media all and (max-width:359px) {\n  .last-updated {\n    display:none;\n  }\n}\n"},{"name":"cssPatientList","type":"style","item-type":"theme","_auto_id_":"31c5c802-7643-47fd-9548-6254412e0ea6","content":"section#areaListHeader {\n    padding:0 !important;\n  \tbackground-color: white;\n}\nsection#areaListHeader md-content {\n  width:100%;\n}\nsection#areaPatientList {\n    padding:0 !important;\n  \tbackground-color: white;\n}\n\n.icon-mypatients:before {\n    content: \"\\f00a\";\n}\n.icon-onreview:before {\n    content: \"\\f0f1\";\n}\n.icon-prescribenext:before {\n    content: \"\\f21e\";\n}\n.icon-inpatients:before {\n    content: \"\\f236\";\n}\n.icon-alerts:before {\n    content: \"\\f017\";\n}\n\n#htmlColumnHeadings div.content-block {\n\tpadding: 0 8px;\n}\n#listPatients .scrollable ul li {\n\tpadding: 0.5em 8px;\n\tborder-top:1px solid lightgrey;\n}\n\n.filter-options {\n\twidth:100%;\n\tborder-top:2px solid #86BD4D;\n\tbackground-color: #86BD4D;\n\tmargin-bottom:8px;\n}\n.filter-options div {\n\twidth:18%;\n\tdisplay:table-cell;\n\tpadding:4px;\n\tvertical-align:middle;\n\ttext-align:center;\n\tcolor:white;\n\tbackground-color: #86BD4D;\n}\n.filter-options div.selected {\n\tbackground-color:white;\n\tcolor: #86BD4D;\n}\n.patient-name {\n  width:40%;\n  display:inline-block;\n}\n.grid-field {\n  width: 20%;\n  display:inline-block;\n}\n.date-birth {\n  width:16%;\n  display:inline-block;\n}\n.heading {\n\tcolor: #86BD4D;\n\tfont-weight:700;\n}\n\n"},{"name":"cssComponents","type":"style","item-type":"theme","_auto_id_":"8f2a45f9-f8a1-4528-8bdf-988b137baf88","content":"\n.contextMenuBG {\n    position: absolute;\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    background-color: rgba(0, 0, 0, 0.3);\n    z-index: 999\n}\nct-context-menu .contextMenuBG .contextMenu {\n    position: absolute;\n    width: 60vw;\n    height: 100vh;\n    top: 0;\n    right: -60vw;\n    background-color: rgba(0, 0, 0, 0.6);\n    z-index: 1000;\n    -webkit-animation: slide .5s forwards\n}\n@-webkit-keyframes slide {\n    100% {\n        right: 0\n    }\n}\n@keyframes slide {\n    100% {\n        right: 0\n    }\n}\nct-context-menu .contextMenuBG .contextMenu div {\n    margin: 0;\n    border-bottom: 1px solid white\n}\nct-context-menu .contextMenuBG .contextMenu div a,\nct-context-menu .contextMenuBG .contextMenu div a:hover {\n    color: white !important;\n    border: none;\n    background-color: transparent !important;\n    width: 100%;\n    padding: 3vh 0;\n    text-align: left;\n    margin-left: 3vw\n}\nct-context-menu .contextMenuBG .contextMenu div a span span:before {\n    margin-right: 3vw;\n    width: 8vw;\n    display: inline-block;\n    text-align: center\n}\nct-context-menu[popup=\"true\"] .contextMenuBG {\n    background-color: transparent\n}\nct-context-menu[popup=\"true\"] .contextMenu {\n    position: absolute;\n    z-index: 1000;\n    background-color: white;\n    border: 1px solid #d3d3d3;\n    height: initial;\n    -webkit-animation: none\n}\nct-context-menu[popup=\"true\"] .contextMenuBG .contextMenu div {\n    border-top: 1px solid #d3d3d3\n}\nct-context-menu[popup=\"true\"] .contextMenuBG .contextMenu div:first-child {\n    border-top: none\n}\nct-context-menu[popup=\"true\"] .contextMenuBG .contextMenu div a,\nct-context-menu[popup=\"true\"] .contextMenuBG .contextMenu div a:hover {\n    color: black !important;\n    margin-left: 0;\n    text-align: center;\n    padding: 2vh 0\n}\n"},{"name":"cssLoadPanel","type":"style","item-type":"theme","_auto_id_":"a037ef78-c9cd-4121-b393-78a35ca3e9db","content":"/*\n\tAdd these classes into an Infinity style block\n*/\nctps-loadpanel {\n\tdisplay:block;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.7);\n\tz-index:10000;\n    display: none;\n}\n    ctps-loadpanel.active {\n        display: block !important;\n    }\n\nctps-loadpanel .spinner {\n\theight:40px;\n\twidth:40px;\n\ttop:20%;\n\tmargin:auto;\n\tanimation: rotation 1.2s infinite linear;\n\tborder-left:6px solid rgba(0,174,239,.15);\n\tborder-right:6px solid rgba(0,174,239,.15);\n\tborder-bottom:6px solid rgba(0,174,239,.15);\n\tborder-top:6px solid rgba(0,174,239,.8);\n\tborder-radius:100%;\n}\t\nctps-loadpanel .header {\n\theight:25%;\n}\nctps-loadpanel .loading-message {\n\tpadding:10px 20px;\n\ttext-align:center;\n\tfont-size:20px;\n\tcolor:white;\n}\n@keyframes rotation {\n\tfrom {transform: rotate(0deg);}\n\tto {transform: rotate(359deg);}\n}\n"},{"name":"cssLogin","type":"style","item-type":"theme","_auto_id_":"8210674d-c904-4ad9-8a62-2cc93578417e","content":"/* Override the background header image for the login page */\ndiv#Login div section.navbar-default {\n    background: url('user-assets/conixlogoheader.png') no-repeat;\n\tflex-basis:80px;\n\tmin-height:80px;\n}\n#htmlLoginArea {\n\tmargin:auto;\n}\n.centered {\n\tmargin:auto;\n}\n.login-area {\n  max-width: 420px;\n  padding: 15px 35px 0;\n  margin: 0 auto !important;\n}\nsection#areaLogin {\n\tdisplay:block;\n}\nsection#areaLogin md-content {\n\twidth:100%;\n}\nsection#areaLogin div.md-button-container {\n    max-width: 420px;\n    padding: 5px 35px 5px;\n    margin: 0 auto !important;\n}\nsection#areaLogin div.md-button-container .btn {\n    width: 100%;\n\tcolor: white;\n\tfont-size:1.4em;\n\t  padding: 20px !important;\n\t  background-color: #86bd4d;\n}\n\t.login-area .form-control {\n\t  position: relative;\n\t  font-size: 20px;\n\t  height: auto;\n      margin-top:14px;\n      margin-bottom:14px;\n\t}\n\tinput[type=\"text\"] {\n\t  margin-bottom: -1px;\n\t  border-bottom-left-radius: 0;\n\t  border-bottom-right-radius: 0;\n\t}\n\tinput[type=\"password\"] {\n\t  margin-bottom: 20px;\n\t  border-top-left-radius: 0;\n\t  border-top-right-radius: 0;\n\t}\n\n\n\n/* Media queries */\n\n\n@media all and (max-width:359px) {\n  .login-area p {\n      font-size:0.8em;\n  }\n  .login-area h2 {\n      font-size:20px;\n  }\n  .login-area .form-control {\n      padding:12px;\n  }\n  section#areaLogin div.md-button-container .btn {\n\tpadding: 12px !important;\n  }\n}\n@media all and (min-width:360px) {\n  .login-area .form-control {\n      padding:20px;\n  }\n  section#areaLogin div.md-button-container .btn {\n    font-size:1.4em;\n\tpadding: 20px !important;\n  }\n}\n"},{"name":"cssLock","type":"style","item-type":"theme","_auto_id_":"14456667-4a05-4591-944f-b3634141a04c","content":"section#areaPin md-content[item-type='html'] {\n\twidth:100%;\n\tpadding:20px;\n}\n.pin-entry {\n\twidth:100%;\n\ttext-align:center;\n\tpadding-top:40px;\n\tpadding-bottom:20px;\n}\n.pin-input {\n    padding: 0em 0.4em;\n    font-family: courier, monospaced;\n    font-size: 3.6em;\n    border: none;\n    border-radius: 10px !important;\n    outline: none;\n    letter-spacing: 0.2em;\n    width: 4.6em;\n    background-color: #444;\n    color: white;\n}\n/*\n.pin-box {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n}\n.pin-box:before {\n    content:'';\n    pointer-events: none;\n    display: block;\n    height: 4.0em;\n    position: absolute;\n    width: 20em;\n    border: 1px solid #CCC;\n}\n*/\n.pin-entry2 input[type=password]{\n    height: 50px;\n    width: 46px;\n    text-align: center;\n    font-size: 2em;\n    border: 1px solid #000;\n} "},{"name":"imgTrustHeader","type":"style","item-type":"image-asset","_auto_id_":"e6ca762b-b5de-44f3-9693-714b12e6d3ac","fileName":"clatterbridgeheader.png"},{"name":"imgCCCLogo","type":"style","item-type":"image-asset","_auto_id_":"7631bec3-fbff-4ddd-9148-b68a0c57d6d8","fileName":"clatterbridgelogo.png"},{"name":"imgConixLogo","type":"style","item-type":"image-asset","_auto_id_":"6dc82d9c-200f-4da8-b9b7-c0507a1f9b8c","fileName":"conixlogoheader.png"},{"name":"imgConixSmall","type":"style","item-type":"image-asset","_auto_id_":"4cd55639-daf3-4b8f-abb9-e157dfa3cbe7","fileName":"conixsmall.png"},{"name":"azurePatientService","type":"integration","item-type":"azure-app-services","_auto_id_":"3d05cec0-d2db-4645-9128-39fec5caa6a1","headers":{},"params":[],"operations":[{"ttlMinutes":60,"name":"getpatients","summary":"Retrieve list of patients","path":"getpatients","method":"POST","params":[{"name":"consultantId","description":"ID of user","type":"string","typeConfig":{}}],"$open":true},{"ttlMinutes":60,"name":"getconfig","summary":"Retrieve configuration for the user","path":"getconfig","method":"POST","params":[{"name":"username","description":"Name of the user","type":"string","typeConfig":{},"required":true}]}],"aasAuthenticationMethod":"windowsazureactivedirectory","aasUrl":"https://ctapidemo.azurewebsites.net/"},{"name":"errorAPICall","type":"notification","item-type":"app-notification","_auto_id_":"adb2558f-b6b3-4102-b339-d4185fb45b6b","options":{},"style":"error","title":"Error","text":"The application was unable to communicate with the server."},{"name":"fnToggleContextMenu","type":"script","item-type":"function","_auto_id_":"5dd8307c-6efb-4127-9be6-609ca8029d6e","sync":true,"params":[],"content":"var contextMenu = document.getElementsByTagName('ct-context-menu')[0]\ncontextMenu.toggleMenu();"},{"name":"fnSpinnerStart","type":"script","item-type":"function","_auto_id_":"307f35d9-15b9-4bd0-8a86-ab98477aac43","sync":false,"params":[{"name":"msg","description":"Message to display to user","default":"Loading, please wait a moment..."}],"content":"var loadpanel = document.getElementsByTagName(\"ctps-loadpanel\");\nif (loadpanel.length > 0) {\n  loadpanel[0].start(msg);\n}\n"},{"name":"fnSpinnerStop","type":"script","item-type":"function","_auto_id_":"153ea992-d8f6-4291-919e-cd356250b588","sync":false,"params":[],"content":"var loadpanel = document.getElementsByTagName(\"ctps-loadpanel\");\nif (loadpanel.length > 0) {\n  loadpanel[0].stop();\n}"},{"name":"fnLockApplication","type":"script","item-type":"function","_auto_id_":"46e79622-93c8-45f1-9b9e-7b8eb098e677","sync":true,"params":[],"actions":[],"content":"var pinAttempts = cti.store.config.PINAttempts;\nvar pinFailCount = 0;\n\nif (!window.authentication) {\n\tinvokeLockPage(\"desktop mode, PIN required\");\n\treturn;\n}\n\nfunction invokeLockPage(reason) {\n\tcti.store.variables.lockStatus = reason;\n\tcti.utils.callAction(\"go-to-page\", \"Lock\");\n  \n\tsetTimeout(function() {\n      var pinCtrls = document.querySelectorAll(\".pin-input\"); \n      if (pinCtrls.length > 0) {\n        pinCtrls[0].value = \"\";\n        pinCtrls[0].focus();\n      }\n    }, 700);\n}\nfunction pinFail() {\n\tpinFailCount++;\n\t// If we've given the user N amount of chances, redirect to login page\n\tif (pinFailCount >= pinAttempts) {\n    \tcti.utils.callAction('show-notification', { 'name': 'pinFailed' });\n    \tcti.fnLogout(false);\n    }\n\telse {\n    \trequestLogin();\n    }\n}\nfunction requestLogin() {\n\twindow.authentication.authenticate(\"Please unlock to continue using this application\", \"MyAppId\", \"MyAppSecret\", function(result) {\n\t\tcti.utils.callAction(\"go-back\");\n\t}, function(errAuthenticate) {\n    \tpinFail();\n\t});  \n}\nif (!cti.store.config.FavourDevicePin) {\n\tinvokeLockPage(\"device authentication not favoured, PIN required\");\n}\nelse {\n    window.authentication.availability(function() {\n        invokeLockPage(\"device authentication requested - hide main app\");\n        requestLogin();\n    }, function(errAvailability) {\n        invokeLockPage(\"device authentication unsupported, PIN required\");\n    });\n}"},{"name":"fnLogout","type":"script","item-type":"function","_auto_id_":"f453f9b7-1025-4e8e-bcc1-e27f22bbf12a","sync":false,"params":[{"name":"cleardata","description":"Whether to clear all of the model data","default":"false"}],"content":"// Delete the config object\n\ncti.utils.callAction(\"go-to-page\", \"Login\");"},{"name":"fnClearControl","type":"script","item-type":"function","_auto_id_":"4f11786a-f2b1-4cd2-886c-f0112fe20d15","sync":true,"params":[{"name":"field","description":"Field instance to be cleared","required":true}],"content":"field.value = \"\";"},{"name":"fnValidatePin","type":"script","item-type":"function","_auto_id_":"a9d66124-1be5-4aac-be91-00d6bb360cf6","sync":true,"params":[{"name":"field","description":"PIN entry field instance"}],"content":"if (field.value == undefined || field.value.length < field.maxLength) {\n  return false;\n}\n\nvar pinEntered = field.value;\nfield.blur();\nfield.value = \"\";\n\nif (pinEntered == cti.store.config.PIN) {\n\tcti.utils.callAction(\"go-back\");\n}\nelse {\n    cti.utils.callAction('show-notification', { 'name': 'pinIncorrect' });\n\tfield.focus();\n}\n\n\n\n"},{"name":"pinIncorrect","type":"notification","item-type":"app-notification","_auto_id_":"8df1a55a-de0a-4e29-b43b-8ff0d9309eb0","options":{},"style":"warning","title":"PIN Incorrect","text":"The PIN you entered is incorrect. Please try again."},{"name":"pinFailed","type":"notification","item-type":"app-notification","_auto_id_":"03aba165-758e-4a9e-93e5-c863a101ce3e","options":{},"style":"error","title":"Authentication Failed","text":"You have been logged out after successive incorrect PIN entry attempts."},{"name":"loginFailed","type":"notification","item-type":"app-notification","_auto_id_":"ba85d27e-73d2-43e6-939a-e845c8377528","options":{},"style":"error","title":"Authentication Failed","text":"Your credentials were incorrect. Please check them and try again."},{"name":"FormInvalid","type":"notification","item-type":"app-notification","_auto_id_":"2b319859-989f-4386-9412-5082ae6b0a5c","options":{},"style":"warning","title":"Information Missing","text":"Please ensure you have completed all of the necessary fields."},{"name":"fnCloneObject","type":"script","item-type":"function","_auto_id_":"0776ce71-c9ff-4bdc-a764-872ba90ebfac","sync":true,"params":[{"name":"obj","description":"Object from which to create a cloned object"}],"content":"if (null == obj || \"object\" != typeof obj) \n  return obj;\nvar copy = obj.constructor();\nfor (var attr in obj) {\n  if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n}\nreturn copy;\n"},{"name":"momentjs","type":"script","item-type":"js-asset","_auto_id_":"b443e785-6745-4c8c-bec3-85ca71e1388b","fileName":"Moment.js"}],"components":[{"content":"InVzZSBzdHJpY3QiOwoKdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCJ2YWx1ZSIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCnZhciBDVENvbnRleHRNZW51ID0gKGZ1bmN0aW9uIChfSFRNTEVsZW1lbnQpIHsKICAgIF9pbmhlcml0cyhDVENvbnRleHRNZW51LCBfSFRNTEVsZW1lbnQpOwoKICAgIGZ1bmN0aW9uIENUQ29udGV4dE1lbnUoKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9DVENvbnRleHRNZW51KTsKCiAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoX0NUQ29udGV4dE1lbnUucHJvdG90eXBlKSwgImNvbnN0cnVjdG9yIiwgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoQ1RDb250ZXh0TWVudSwgW3sKICAgICAgICBrZXk6ICJhdHRhY2hlZENhbGxiYWNrIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoZWRDYWxsYmFjaygpIHsKICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdwb3B1cCcpOwogICAgICAgICAgICB0aGlzLm1pbldpZHRoID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ21pbndpZHRoJykgPT09ICdudWxsJyA/IDAgOiBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZSgnbWlud2lkdGgnKSk7CiAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24gPSB0aGlzLmdldEF0dHJpYnV0ZSgnb3JpZW50YXRpb24nKTsKICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGlyZWN0aW9uJyk7CgogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnY29udGV4dE1lbnVCRyAnICsgdGhpcy5kaXJlY3Rpb247CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbWVudS5jbGFzc05hbWUgPSAnY29udGV4dE1lbnUnOwoKICAgICAgICAgICAgd2hpbGUgKHRoaXMuY2hpbGROb2Rlcy5sZW5ndGggIT09IDApIHsKICAgICAgICAgICAgICAgIG1lbnUuYXBwZW5kQ2hpbGQodGhpcy5jaGlsZE5vZGVzWzBdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMud2luZG93U2l6ZUNoYW5nZSk7CgogICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWVudSk7CiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsKICAgICAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8vIFRvZ2dsZXMgdGhlIG1lbnUgb3BlbmVkIGFuZCBjbG9zZWQgYmFzZWQgb24gdGhlIHZhbHVlCiAgICAgICAgLy8gb2YgdGhlIHRoaXMub3BlbmVkIHByb3BlcnR5IChpbml0aWFsbHkgc2V0IHRvIGZhbHNlKQogICAgfSwgewogICAgICAgIGtleTogInRvZ2dsZU1lbnUiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVNZW51KCkgewogICAgICAgICAgICB2YXIgY29udGV4dE1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb250ZXh0TWVudUJHJylbMF07CgogICAgICAgICAgICBpZiAoIXRoaXMub3BlbmVkKSB7CiAgICAgICAgICAgICAgICAvLyBQT1BVUCBMT0dJQwogICAgICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAgPT09ICJ0cnVlIikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGV4dE1lbnVJbm5lcih0aGlzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLm9wZW5lZCA9IHRydWU7CiAgICAgICAgICAgICAgICBjb250ZXh0TWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VNZW51LCB0cnVlKTsKICAgICAgICAgICAgICAgIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSAnaW5pdGlhbCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29udGV4dE1lbnUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlTWVudSk7CiAgICAgICAgICAgICAgICBjb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBUaGUgY2xvc2UgZnVuY3Rpb24gd2UgYmluZCBvdXIgY2xpY2sgZXZlbnQgdG8uIFRoaXMKICAgICAgICAvLyBoYW5kbGVzIGtlZXBpbmcgdGhlICd0aGlzJyBrZXl3b3JkIGluIHNjb3BlCiAgICB9LCB7CiAgICAgICAga2V5OiAiY2xvc2VNZW51IiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VNZW51KGUpIHsKICAgICAgICAgICAgdmFyIGNvbnRleHRNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2N0LWNvbnRleHQtbWVudScpWzBdOwogICAgICAgICAgICBjb250ZXh0TWVudS50b2dnbGVNZW51KCk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogInNldENvbnRleHRNZW51SW5uZXIiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb250ZXh0TWVudUlubmVyKGNvbnRleHRNZW51KSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcyAhPT0gQ1RDb250ZXh0TWVudSkgewogICAgICAgICAgICAgICAgdmFyIF90aGlzID0gY29udGV4dE1lbnU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBjb250ZXh0TWVudUlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY29udGV4dE1lbnUnKVswXTsKICAgICAgICAgICAgdmFyIHBvcyA9IF90aGlzLmdlbmVyYXRlUG9zaXRpb25PblBhZ2UoKTsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnUE9QVVAgUG9zaXRpb25zOiAnLCBwb3MudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIGNvbnRleHRNZW51SW5uZXIuc3R5bGUudG9wID0gcG9zLnRvcCArICdweCc7CgogICAgICAgICAgICBpZiAoX3RoaXMub3JpZW50YXRpb24gPT0gJ3JpZ2h0JyAmJiBfdGhpcy5taW5XaWR0aCAhPT0gMCkgewogICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBvcy5sZWZ0IC0gKF90aGlzLm1pbldpZHRoIC0gcG9zLndpZHRoKTsKICAgICAgICAgICAgICAgIGNvbnRleHRNZW51SW5uZXIuc3R5bGUubGVmdCA9IG9mZnNldCArICdweCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb250ZXh0TWVudUlubmVyLnN0eWxlLmxlZnQgPSBwb3MubGVmdCArICdweCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChfdGhpcy5taW5XaWR0aCAhPT0gMCAmJiBwb3Mud2lkdGggPCBfdGhpcy5taW5XaWR0aCkgewogICAgICAgICAgICAgICAgY29udGV4dE1lbnVJbm5lci5zdHlsZS53aWR0aCA9IF90aGlzLm1pbldpZHRoICsgJ3B4JzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnRleHRNZW51SW5uZXIuc3R5bGUud2lkdGggPSBwb3Mud2lkdGggKyAncHgnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogImdlbmVyYXRlUG9zaXRpb25PblBhZ2UiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZVBvc2l0aW9uT25QYWdlKCkgewogICAgICAgICAgICAvLyBURU1QCiAgICAgICAgICAgIHZhciBjYWxsaW5nQnRuSWQgPSBsb2NhbFN0b3JhZ2UuY2FsbGluZ0J0bjsKICAgICAgICAgICAgdmFyIGNhbGxpbmdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhIycgKyBjYWxsaW5nQnRuSWQpOwoKICAgICAgICAgICAgdmFyIGNhbGxpbmdCdG5Qb3MgPSBjYWxsaW5nQnRuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICB2YXIgcGFkVG9wID0gJChjYWxsaW5nQnRuKS5jc3MoJ3BhZGRpbmctdG9wJyk7CiAgICAgICAgICAgIHZhciBwYWRCb3QgPSAkKGNhbGxpbmdCdG4pLmNzcygncGFkZGluZy1ib3R0b20nKTsKICAgICAgICAgICAgdmFyIGJvcmRlcldpZHRoID0gJChjYWxsaW5nQnRuKS5jc3MoJ2JvcmRlci13aWR0aCcpOwoKICAgICAgICAgICAgdmFyIHBhZFRvcCA9IHBhcnNlSW50KHBhZFRvcC5zdWJzdHJpbmcoMCwgcGFkVG9wLmxlbmd0aCAtIDIpKTsKICAgICAgICAgICAgdmFyIHBhZEJvdCA9IHBhcnNlSW50KHBhZEJvdC5zdWJzdHJpbmcoMCwgcGFkQm90Lmxlbmd0aCAtIDIpKTsKICAgICAgICAgICAgdmFyIGJvcmRlcldpZHRoID0gcGFyc2VJbnQoYm9yZGVyV2lkdGguc3Vic3RyaW5nKDAsIGJvcmRlcldpZHRoLmxlbmd0aCAtIDIpKTsKCiAgICAgICAgICAgIHZhciB0b3AgPSBjYWxsaW5nQnRuUG9zLnRvcCArIHBhZFRvcCArIHBhZEJvdCArIGJvcmRlcldpZHRoOwogICAgICAgICAgICB2YXIgbGVmdCA9IGNhbGxpbmdCdG5Qb3MubGVmdDsKICAgICAgICAgICAgdmFyIHJpZ2h0ID0gY2FsbGluZ0J0blBvcy5yaWdodDsKICAgICAgICAgICAgdmFyIHdpZHRoID0gY2FsbGluZ0J0blBvcy53aWR0aDsKCiAgICAgICAgICAgIHZhciByZXMgPSB7CiAgICAgICAgICAgICAgICB0b3A6IHRvcCwKICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgICAgICAgICByaWdodDogcmlnaHQsCiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiByZXM7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogIndpbmRvd1NpemVDaGFuZ2UiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3aW5kb3dTaXplQ2hhbmdlKCkgewogICAgICAgICAgICB2YXIgY29udGV4dE1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY3QtY29udGV4dC1tZW51JylbMF07CgogICAgICAgICAgICBpZiAoY29udGV4dE1lbnUub3BlbmVkKSB7CiAgICAgICAgICAgICAgICBpZiAoY29udGV4dE1lbnUucG9wdXAgPT09ICJ0cnVlIikgewogICAgICAgICAgICAgICAgICAgIGNvbnRleHRNZW51LnNldENvbnRleHRNZW51SW5uZXIoY29udGV4dE1lbnUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfV0pOwoKICAgIHZhciBfQ1RDb250ZXh0TWVudSA9IENUQ29udGV4dE1lbnU7CiAgICBDVENvbnRleHRNZW51ID0gV2ViQ29tcG9uZW50cy5hbm5vdGF0ZSh7CiAgICAgICAgImF0dHJpYnV0ZXMiOiB7CiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgIlBvcHVwIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImJvb2xlYW4iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIk1pbldpZHRoIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImludGVnZXIiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIk9yaWVudGF0aW9uIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiZGlyZWN0aW9uIjogewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0cmluZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgInJlcXVpcmVkIjogWyJQb3B1cCJdCiAgICAgICAgfSwKICAgICAgICAiY29udGFpbmVyIjogdHJ1ZQogICAgfSkoQ1RDb250ZXh0TWVudSkgfHwgQ1RDb250ZXh0TWVudTsKICAgIHJldHVybiBDVENvbnRleHRNZW51Owp9KShIVE1MRWxlbWVudCk7Cgpkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQoJ2N0LWNvbnRleHQtbWVudScsIENUQ29udGV4dE1lbnUpOw==","type":"web-component-es2015","element":"ct-context-menu","usage":"<ct-context-menu></ct-context-menu>","name":"CTContextMenu"},{"content":"J3VzZSBzdHJpY3QnOwoKdmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTsKCnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBkZXNjID0gcGFyZW50ID0gZ2V0dGVyID0gdW5kZWZpbmVkOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCihmdW5jdGlvbiAoKSB7Cgl2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz0iaGVhZGVyIj48L2Rpdj48ZGl2IGNsYXNzPSJzcGlubmVyIj48L2Rpdj48ZGl2IGNsYXNzPSJsb2FkaW5nLW1lc3NhZ2UiPkxvYWRpbmcuLi48L2Rpdj4nOwoKCXZhciBMb2FkUGFuZWwgPSAoZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkgewoJCV9pbmhlcml0cyhMb2FkUGFuZWwsIF9IVE1MRWxlbWVudCk7CgoJCWZ1bmN0aW9uIExvYWRQYW5lbCgpIHsKCQkJX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9Mb2FkUGFuZWwpOwoKCQkJX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoX0xvYWRQYW5lbC5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwoJCX0KCgkJX2NyZWF0ZUNsYXNzKExvYWRQYW5lbCwgW3sKCQkJa2V5OiAnYXR0YWNoZWRDYWxsYmFjaycsCgkJCXZhbHVlOiBmdW5jdGlvbiBhdHRhY2hlZENhbGxiYWNrKCkgewoJCQkJdGhpcy5pbm5lckhUTUwgPSB0ZW1wbGF0ZTsKCQkJCXRoaXMuY2xhc3NOYW1lID0gJyc7CgkJCX0KCQl9LCB7CgkJCWtleTogJ3N0YXJ0JywKCgkJCS8vIEludm9rZSAuc3RhcnQgYmVmb3JlIGJlZ2lubmluZyBhIHBvdGVudGlhbGx5IGxvbmcgcnVubmluZywgYmxvY2tpbmcgYWN0aXZpdHkKCQkJdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KG1lc3NhZ2UpIHsKCQkJCXZhciBkaXNwbGF5TWVzc2FnZSA9IG1lc3NhZ2UgPT09IHVuZGVmaW5lZCB8fCBtZXNzYWdlID09IG51bGwgPyAnJyA6IG1lc3NhZ2U7CgkJCQl0aGlzLmNsYXNzTmFtZSA9ICdhY3RpdmUnOwoKCQkJCXRoaXMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibG9hZGluZy1tZXNzYWdlIilbMF0uaW5uZXJIVE1MID0gZGlzcGxheU1lc3NhZ2U7CgkJCX0KCQl9LCB7CgkJCWtleTogJ3N0b3AnLAoKCQkJLy8gSW52b2tlIC5zdG9wIGF0IHRoZSBlbmQgb2YgdGhlIGFjdGl2aXR5IHNvIG5vcm1hbCBhcHAgaW50ZXJhY3Rpb25zIGNhbiByZXN1bWUKCQkJdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CgkJCQl0aGlzLmNsYXNzTmFtZSA9ICcnOwoJCQl9CgkJfV0pOwoKCQl2YXIgX0xvYWRQYW5lbCA9IExvYWRQYW5lbDsKCQlMb2FkUGFuZWwgPSBXZWJDb21wb25lbnRzLmFubm90YXRlKHsKCQkJImNvbnRhaW5lciI6IGZhbHNlCgkJfSkoTG9hZFBhbmVsKSB8fCBMb2FkUGFuZWw7CgkJcmV0dXJuIExvYWRQYW5lbDsKCX0pKEhUTUxFbGVtZW50KTsKCglkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQoJ2N0cHMtbG9hZHBhbmVsJywgTG9hZFBhbmVsKTsKfSkoKTs=","type":"web-component-es2015","element":"ctps-loadpanel","usage":"<ctps-loadpanel></ctps-loadpanel>","name":"ctps_loadpanel"}],"icondata":"conixsmall.png","hostContext":0}